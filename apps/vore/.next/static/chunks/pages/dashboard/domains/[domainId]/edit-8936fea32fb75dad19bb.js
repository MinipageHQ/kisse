(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70],{6481:function(e,t,r){"use strict";var n=r(9527),o=r(2322);t.Z=function(e){var t=e.title,r=e.children;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.Head,{children:[(0,o.jsx)("title",{children:t||"saltana"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),r]})}},5300:function(e,t,r){"use strict";r.d(t,{Ck:function(){return i.Ck},Yl:function(){return d}});var n=r(4942),o=r(3435),i=r(1739),a=r(2784),c=r(2345),s=r(2322);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(0,a.forwardRef)((function(e,t){var r=e.name,n=e.label,i=(e.outerProps,e.fieldProps),a=(e.labelProps,e.type),u=void 0===a?"text":a,f=e.helpText,d=(0,o.Z)(e,["name","label","outerProps","fieldProps","labelProps","type","helpText"]),p=(0,c.U$)(r,l({},i)),h=p.input,v=p.meta,m=v.touched,b=v.error,x=v.submitError,y=v.submitting,j=Array.isArray(b)?b.join(", "):b||x,g=m&&j;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",l(l(l({title:n,type:u},h),{},{disabled:y},d),{},{className:"rounded-md border border-gray-300 focus:ring-0 focus:border-black px-4 flex-auto min-w-0 sm:text-sm",placeholder:"mydomain.com",pattern:"^(?:[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\\.)?[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\\.[a-zA-Z]{2,}$",autoComplete:"off",ref:t})),g&&(0,s.jsxs)("div",{className:"text-red-500 text-left w-full max-w-2xl mt-5 text-sm flex items-center space-x-2",children:[(0,s.jsxs)("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",style:{color:"#f44336"},children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"white"}),(0,s.jsx)("path",{d:"M12 8v4",stroke:"#f44336"}),(0,s.jsx)("path",{d:"M12 16h.01",stroke:"#f44336"})]}),(0,s.jsx)("p",{children:j})]}),f&&(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:f})]})}));function d(e){return(0,s.jsx)(i.l0,l(l({},e),{},{className:"flex justify-between space-x-4 w-full max-w-2xl h-10 mt-10 mb-10",children:(0,s.jsx)(f,{name:"domain",label:"Domain",placeholder:"Domain"})}))}},8784:function(e,t,r){"use strict";var n=r(1428);t.Z=(0,n.buildRpcClient)({resolverName:"getDomain",resolverType:"query",routePath:"/api/rpc/getDomain"})},2375:function(e,t,r){"use strict";r.r(t),r.d(t,{EditDomain:function(){return j},default:function(){return O}});var n=r(7757),o=r.n(n),i=r(4942),a=r(5861),c=r(7234),s=r(2784),u=r(2540),l=r(1428),f=r(1664),d=r(9527),p=r(6481),h=r(8784),v=(0,l.buildRpcClient)({resolverName:"updateDomain",resolverType:"mutation",routePath:"/api/rpc/updateDomain"}),m=r(5300),b=r(2322);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(){var e=(0,u.useRouter)(),t=(0,u.useParam)("domainId","string"),r=(0,l.useQuery)(h.Z,{id:t},{enabled:!!t,staleTime:1/0}),n=(0,c.Z)(r,2),s=n[0],f=n[1].setQueryData,p=(0,l.useMutation)(v),x=(0,c.Z)(p,1)[0];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Head,{children:(0,b.jsxs)("title",{children:["Edit Domain ",null===s||void 0===s?void 0:s.id]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{children:["Edit Domain ",null===s||void 0===s?void 0:s.id]}),(0,b.jsx)("pre",{children:JSON.stringify(s,null,2)}),(0,b.jsx)(m.Yl,{submitText:"Update Domain",initialValues:s,onSubmit:function(){var t=(0,a.Z)(o().mark((function t(r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x(y({id:null===s||void 0===s?void 0:s.id},r));case 3:return n=t.sent,t.next=6,f(n);case 6:e.push(u.Routes.ShowDomainPage({domainId:n.id})),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return",(0,i.Z)({},m.Ck,t.t0.toString()));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()})]})]})},g=function(){return(0,b.jsxs)("div",{children:[(0,b.jsx)(s.Suspense,{fallback:(0,b.jsx)("div",{children:"Loading..."}),children:(0,b.jsx)(j,{})}),(0,b.jsx)("p",{children:(0,b.jsx)(f.Link,{href:u.Routes.DomainsPage(),children:(0,b.jsx)("a",{children:"Domains"})})})]})};g.authenticate=!0,g.getLayout=function(e){return(0,b.jsx)(p.Z,{children:e})};var O=g},2167:function(e,t,r){"use strict";var n=r(3038);t.Link=f;var o,i=(o=r(2784))&&o.__esModule?o:{default:o},a=r(1063),c=r(4651),s=r(7426);var u={};function l(e,t,r,n){if(e&&a.isLocalURL(t)){e.prefetch(t,r,n).catch((function(e){0}));var o=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;u[t+"%"+r+(o?"%"+o:"")]=!0}}function f(e){var t,r=!1!==e.prefetch,o=c.useRouter(),f=i.default.useMemo((function(){var t=a.resolveHref(o,e.href,!0),r=n(t,2),i=r[0],c=r[1];return{href:i,as:e.as?a.resolveHref(o,e.as):c||i}}),[o,e.href,e.as]),d=f.href,p=f.as,h=e.children,v=e.replace,m=e.shallow,b=e.scroll,x=e.locale;"string"===typeof h&&(h=i.default.createElement("a",null,h));var y=(t=i.default.Children.only(h))&&"object"===typeof t&&t.ref,j=s.useIntersection({rootMargin:"200px"}),g=n(j,2),O=g[0],w=g[1],P=i.default.useCallback((function(e){O(e),y&&("function"===typeof y?y(e):"object"===typeof y&&(y.current=e))}),[y,O]);i.default.useEffect((function(){var e=w&&r&&a.isLocalURL(d),t="undefined"!==typeof x?x:o&&o.locale,n=u[d+"%"+p+(t?"%"+t:"")];e&&!n&&l(o,d,p,{locale:t})}),[p,d,w,x,r,o]);var k={ref:P,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,r,n,o,i,c,s){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&a.isLocalURL(r))&&(e.preventDefault(),null==c&&n.indexOf("#")>=0&&(c=!1),t[o?"replace":"push"](r,n,{shallow:i,locale:s,scroll:c}))}(e,o,d,p,v,m,b,x)},onMouseEnter:function(e){a.isLocalURL(d)&&(t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),l(o,d,p,{priority:!0}))}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var D="undefined"!==typeof x?x:o&&o.locale,E=o&&o.isLocaleDomain&&a.getDomainLocale(p,D,o&&o.locales,o&&o.domainLocales);k.href=E||a.addBasePath(a.addLocale(p,D,o&&o.defaultLocale))}return i.default.cloneElement(t,k)}},7426:function(e,t,r){"use strict";var n=r(3038);Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootMargin,r=e.disabled||!a,s=o.useRef(),u=o.useState(!1),l=n(u,2),f=l[0],d=l[1],p=o.useCallback((function(e){s.current&&(s.current(),s.current=void 0),r||f||e&&e.tagName&&(s.current=function(e,t,r){var n=function(e){var t=e.rootMargin||"",r=c.get(t);if(r)return r;var n=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return c.set(t,r={id:t,observer:o,elements:n}),r}(r),o=n.id,i=n.observer,a=n.elements;return a.set(e,t),i.observe(e),function(){a.delete(e),i.unobserve(e),0===a.size&&(i.disconnect(),c.delete(o))}}(e,(function(e){return e&&d(e)}),{rootMargin:t}))}),[r,t,f]);return o.useEffect((function(){if(!a&&!f){var e=i.requestIdleCallback((function(){return d(!0)}));return function(){return i.cancelIdleCallback(e)}}}),[f]),[p,f]};var o=r(2784),i=r(3447),a="undefined"!==typeof IntersectionObserver;var c=new Map},1980:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/domains/[domainId]/edit",function(){return r(2375)}])},9527:function(e,t,r){e.exports=r(639)},1664:function(e,t,r){e.exports=r(2167)}},function(e){e.O(0,[774,888,179],(function(){return t=1980,e(e.s=t);var t}));var t=e.O();_N_E=t}]);